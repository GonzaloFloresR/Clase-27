<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restablecer contraseña</title>
</head>
<body>
    <h1>Restablecer Contraseña</h1>
    <form id="resetPass">
        <input type="password" id="password" placeholder="password" required/>
        <button type="submit">Cambiár contraseña</button>
    </form>
    <div id="mensaje"></div>
</body>

<script>
    document.getElementById("resetPass").addEventListener("submit", async function(event) {
        event.preventDefault(); // Evita que el formulario se envíe de forma tradicional
        let password = document.getElementById("password").value;
        let mensaje = document.getElementById("mensaje");
        let respuesta;
        try {
            respuesta = await fetch("http://localhost:8080/resetpassword/", {
            method: "PUT",
            body: JSON.stringify({password}),
            headers: {"Content-type": "application/json; charset=UTF-8"}
        });
        if(respuesta.ok){
            let dato = await respuesta.json();
            mensaje.innerHTML = dato.status;
        } else {
            console.error('Error en la respuesta:', response.status);
        }
    }
    catch(error){console.log(error)}
        
    });
</script>
</html>